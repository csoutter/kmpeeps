<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Lactation Location</title>

        <!-- Include links to CSS stylesheets below -->
        <link rel="stylesheet" href="node_modules/bulma/css/bulma.css">
        <link rel="stylesheet" href="lactation.css">
        <link rel="icon" href="pictures/mother.png">
    </head>

    <body>
        <div id="root">
            <section class="hero is-info">
                <div class="hero-body">
                    <div class="container">
                        <button class="button" style="background-color:black; color: white; margin-top: 10px; float: right;">Sign In</button>
                        <h1 class="title"><strong><a href="index.html" style="text-decoration: none; color: white;">Lactation Location</a></strong></h1>
                        <h2 class="subtitle">A woman's guide to finding a close lacation room while on UNC's campus.</h2>
                        <div class="field is-grouped">
                            <p class="control is-expanded">
                                <input class="input" id="searchBar" type="text" placeholder="Find a lactation room (ex. 'North Campus', 'Sitterson')">
                            </p>
                            <p class="control" id="searchButton">
                                <a class="button is-dark">Search</a>
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <div class="container section" style="padding:10px;">
                <div class="columns">
                    <!-- Include links to JavaScript files below -->
                    <script src="node_modules/jquery/dist/jquery.js"></script>
                    <script src="data.js"></script>
                    <div id="map"></div>
                    <!-- <script src="render.js" type="module"></script> -->
                    <script>
                        function initMap(){
                          // Map options
                          var options = {
                            zoom:8,
                            center:{lat:42.3601,lng:-71.0589}
                          }
                    
                          // New map
                          var map = new google.maps.Map(document.getElementById('map'), options);
                    
                          // Listen for click on map
                          google.maps.event.addListener(map, 'click', function(event){
                            // Add marker
                            addMarker({coords:event.latLng});
                          });
                    
                          /*
                          // Add marker
                          var marker = new google.maps.Marker({
                            position:{lat:42.4668,lng:-70.9495},
                            map:map,
                            icon:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
                          });
                    
                          var infoWindow = new google.maps.InfoWindow({
                            content:'<h1>Lynn MA</h1>'
                          });
                    
                          marker.addListener('click', function(){
                            infoWindow.open(map, marker);
                          });
                          */
                    
                          // Array of markers
                          var markers = [
                            {
                              coords:{lat:42.4668,lng:-70.9495},
                              iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                              content:'<h1>Lynn MA</h1>'
                            },
                            {
                              coords:{lat:42.8584,lng:-70.9300},
                              content:'<h1>Amesbury MA</h1>'
                            },
                            {
                              coords:{lat:42.7762,lng:-71.0773}
                            }
                          ];
                    
                          // Loop through markers
                          for(var i = 0;i < markers.length;i++){
                            // Add marker
                            addMarker(markers[i]);
                          }
                    
                          // Add Marker Function
                          function addMarker(props){
                            var marker = new google.maps.Marker({
                              position:props.coords,
                              map:map,
                              //icon:props.iconImage
                            });
                    
                            // Check for customicon
                            if(props.iconImage){
                              // Set icon image
                              marker.setIcon(props.iconImage);
                            }
                    
                            // Check content
                            if(props.content){
                              var infoWindow = new google.maps.InfoWindow({
                                content:props.content
                              });
                    
                              marker.addListener('click', function(){
                                infoWindow.open(map, marker);
                              });
                            }
                          }
                        }
                      </script>
                    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMm5aIAjT3m0MSPEnM-aeZ8tYznHS0SGo&callback=initMap"
  type="text/javascript"></script>
                </div>
            </div>
        </div>
        <footer class="footer" style="padding:20px !important; background-color:lightgray; margin-top: 20px;">
            <div class="content has-text-centered">
                <p><strong>KMPeeps' Lacation Location</strong> created by Abby Brosnan, Jessica Davis, and Cassidy Soutter.</p>
            </div>
        </footer>
    </body>
</html>
